<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>학급 자리배치 앱</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="bg-gradient-to-r from-emerald-800 to-green-900 min-h-screen flex items-center justify-center text-white">
  <div class="container text-center p-4 rounded-xl bg-white/10 shadow-lg border border-white/20">
    <h1 class="text-3xl font-bold mb-2">학급 자리배치</h1>
    <p class="mb-4 text-gray-300">학생 명단을 무작위로 좌석에 배치합니다.</p>
    <div class="mb-4">
      <button id="assignBtn" class="btn btn-primary me-2">🎲 자리 배치</button>
      <button id="resetBtn" class="btn btn-secondary me-2">🧹 초기화</button>
      <button id="printBtn" class="btn btn-success">🖨️ 인쇄/PDF</button>
    </div>
    <div id="seatGrid" class="grid grid-cols-6 gap-2 mt-4"></div>
  </div>

  <script>
    const seatGrid = document.getElementById('seatGrid');
    const assignBtn = document.getElementById('assignBtn');
    const resetBtn = document.getElementById('resetBtn');
    const printBtn = document.getElementById('printBtn');

    // 예시 학생 명단 (자유롭게 수정 가능)
    let students = [
      '김민수', '이영희', '박철수', '최지우', '정하늘', '윤서준', '한예지', '오민재', '장유나', '서현우',
      '임수빈', '백서연', '이도윤', '김나연', '조현성', '신유진', '차은우', '권하늘', '배수정', '송지훈',
      '허민재', '강다현', '문태영', '양서진', '김주원', '노하린', '이서준', '정민아', '박하늘', '홍지우'
    ];

    const shuffle = (arr) => {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    };

    function createSeats(){
      seatGrid.innerHTML = '';
      for(let i=1; i<=students.length; i++){
        const seat = document.createElement('div');
        seat.className = 'p-3 text-center rounded-lg border border-white/20 bg-white/10 min-h-[60px] flex items-center justify-center';
        seat.dataset.index = i;
        seat.textContent = `좌석 ${i}`;
        seatGrid.appendChild(seat);
      }
    }

    function assignSeats(){
      const shuffled = shuffle([...students]);
      const seats = document.querySelectorAll('#seatGrid div');
      seats.forEach((seat, idx) => {
        seat.textContent = shuffled[idx];
        seat.classList.add('bg-yellow-300', 'text-black', 'font-bold');
      });
      Swal.fire({
        icon: 'success',
        title: '자리 배치 완료!',
        text: '학생들이 무작위로 배치되었습니다.',
        confirmButtonText: '확인'
      });
    }

    function resetSeats(){
      createSeats();
    }

    assignBtn.addEventListener('click', assignSeats);
    resetBtn.addEventListener('click', resetSeats);
    printBtn.addEventListener('click', () => window.print());

    createSeats();
  </script>
</body>
</html>

